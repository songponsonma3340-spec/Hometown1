<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>Dorm Manager Pro</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin:0;padding:0;
      background:#f7f7f7;
    }
    header {
      background:#34495e;
      color:#fff;
      padding:10px 20px;
      display:flex;justify-content:space-between;align-items:center;
    }
    nav button {
      margin:0 5px;
      padding:8px 12px;
      border:none;
      border-radius:4px;
      cursor:pointer;
      background:#2ecc71;
      color:#fff;
    }
    nav button:disabled {
      background:#888;
      cursor:not-allowed;
    }
    section {
      display:none;
      padding:20px;
    }
    .active {
      display:block;
    }
    .card {
      background:#fff;
      padding:15px;
      margin:10px 0;
      border-radius:6px;
      box-shadow:0 0 5px rgba(0,0,0,.1);
    }
    .login-box {
      max-width:300px;
      margin:100px auto;
      background:#fff;
      padding:20px;
      border-radius:6px;
      box-shadow:0 0 5px rgba(0,0,0,.1);
    }
    .hidden{display:none;}
  </style>
</head>
<body>
  <header>
    <h2>Dorm Manager Pro</h2>
    <nav id="menu">
      <button onclick="showPage('dashboard')">Dashboard</button>
      <button onclick="showPage('rooms')">Rooms</button>
      <button onclick="showPage('settings')">Settings</button>
      <button onclick="logout()">Logout</button>
    </nav>
  </header>

  <div id="loginPage" class="login-box">
    <h3>Login</h3>
    <input type="text" id="username" placeholder="Username"><br><br>
    <input type="password" id="password" placeholder="Password"><br><br>
    <button onclick="login()">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
    <p id="loginMsg" style="color:red;"></p>
  </div>

  <section id="dashboard">
    <h3>üìä Dashboard</h3>
    <div class="card">‡∏™‡∏£‡∏∏‡∏õ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢ / ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≤‡∏á‡πÜ</div>
  </section>

  <section id="rooms">
    <h3>üè† ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏´‡πâ‡∏≠‡∏á‡∏û‡∏±‡∏Å</h3>
    <div class="card">‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡πà‡∏≤ + ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢</div>
  </section>

  <section id="settings">
    <h3>‚öôÔ∏è ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤</h3>
    <div class="card">
      <p>‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏´‡∏≠‡∏û‡∏±‡∏Å, QR Code, EmailJS, ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</p>
    </div>
  </section>

<script>
  // ‡πÄ‡∏ã‡πá‡∏ï default accounts ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ
  if(!localStorage.getItem("users")){
    const defaultUsers = {
      "admin": {password:"1234", role:"admin"},
      "room101": {password:"101pass", role:"user"}
    };
    localStorage.setItem("users", JSON.stringify(defaultUsers));
  }

  let currentUser = null;

  function login(){
    const u = document.getElementById("username").value.trim();
    const p = document.getElementById("password").value.trim();
    const users = JSON.parse(localStorage.getItem("users"));
    if(users[u] && users[u].password===p){
      currentUser = {username:u, role:users[u].role};
      sessionStorage.setItem("login", JSON.stringify(currentUser));
      document.getElementById("loginPage").classList.add("hidden");
      document.getElementById("menu").style.display="block";
      if(currentUser.role==="admin"){
        document.querySelectorAll("nav button").forEach(b=>b.disabled=false);
      }else{
        // user: ‡∏õ‡∏¥‡∏î‡πÄ‡∏°‡∏ô‡∏π‡∏ö‡∏≤‡∏á‡∏™‡πà‡∏ß‡∏ô
        document.querySelector("button[onclick=\"showPage('settings')\"]").disabled=true;
        document.querySelector("button[onclick=\"showPage('rooms')\"]").disabled=true;
      }
      showPage("dashboard");
    }else{
      document.getElementById("loginMsg").innerText="‚ùå ‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏¥‡∏î";
    }
  }

  function logout(){
    sessionStorage.removeItem("login");
    currentUser=null;
    document.getElementById("loginPage").classList.remove("hidden");
    document.getElementById("menu").style.display="none";
    hideAll();
  }

  function showPage(id){
    hideAll();
    document.getElementById(id).classList.add("active");
  }

  function hideAll(){
    document.querySelectorAll("section").forEach(sec=>sec.classList.remove("active"));
  }

  // ‡∏ï‡∏£‡∏ß‡∏à session
  window.onload = ()=>{
    const loginData = sessionStorage.getItem("login");
    if(loginData){
      currentUser = JSON.parse(loginData);
      document.getElementById("loginPage").classList.add("hidden");
      document.getElementById("menu").style.display="block";
      showPage("dashboard");
    }else{
      document.getElementById("menu").style.display="none";
    }
  };
</script>
</body>
</html>
